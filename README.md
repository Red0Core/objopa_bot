# Objopa Bot ü§ñ

![Python Version](https://img.shields.io/badge/python-3.13.5-blue)
![License](https://img.shields.io/badge/license-MIT-green)
![Redis](https://img.shields.io/badge/redis-supported-red)

–ú–Ω–æ–≥–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π Telegram-–±–æ—Ç —Å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –º–µ–¥–∏–∞, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å AI, –º–∏–Ω–∏-–∏–≥—Ä—ã –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- **ü§ñ tg_bot** ‚Äì Telegram-–±–æ—Ç —Å –∫–æ–º–∞–Ω–¥–∞–º–∏ –∏ —Ä–æ—É—Ç–µ—Ä–∞–º–∏
- **üîß backend** ‚Äì FastAPI —Å–µ—Ä–≤–µ—Ä –¥–ª—è API –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π  
- **‚öôÔ∏è workers** ‚Äì –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞
- **üî¥ Redis** ‚Äì –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏

## üì• –°–∏—Å—Ç–µ–º–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –º–µ–¥–∏–∞

### –ö–æ–º–∞–Ω–¥—ã:
- `/d <url>` - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
- `/insta <url>` - –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è Instagram
- `/d_test <url>` - –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Instagram:
- `/ua_current` - —Å—Ç–∞—Ç—É—Å User-Agent
- `/ua_set <UA>` - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–æ–≤—ã–π User-Agent  
- `/ua_reset` - —Å–±—Ä–æ—Å–∏—Ç—å –Ω–∞ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π
- `/insta_session` - —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
- `/insta_reset` - —Å–±—Ä–æ—Å –∫—ç—à–∞

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
‚úÖ **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞**: –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å–∫–∞—á–∏–≤–∞—Ç–µ–ª–∏ ‚Üí yt-dlp ‚Üí gallery-dl  
‚úÖ **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π User-Agent**: –ò–∑–º–µ–Ω–µ–Ω–∏–µ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ Redis  
‚úÖ **–°—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º**: Instagram/Twitter –Ω–µ –ø—Ä–æ–±—É—é—Ç fallback –º–µ—Ç–æ–¥—ã  
‚úÖ **–ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è**: –ö–∞–∂–¥—ã–π URL –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑  
‚úÖ **–ê–≤—Ç–æ–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**: –î–µ—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –æ —Ä–∞–±–æ—Ç–µ —Å–∏—Å—Ç–µ–º—ã  

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- Python 3.13.5
- [uv](https://github.com/astral-sh/uv)
- [Redis](https://redis.io/)
- [Make](https://www.gnu.org/software/make/)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞:
```bash
git clone https://github.com/Red0Core/objopa_bot.git
cd objopa_bot
make install

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp .env.example .env
# –ó–∞–ø–æ–ª–Ω–∏—Ç–µ .env —Ñ–∞–π–ª –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏
```

### –ó–∞–ø—É—Å–∫:
```bash
# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
make run-bot

# –ó–∞–ø—É—Å–∫ API (–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
make run-api
```

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
objopa_ecosystem/
‚îú‚îÄ‚îÄ tg_bot/           # Telegram –±–æ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ routers/      # –ö–æ–º–∞–Ω–¥—ã –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ downloaders/  # –°–∏—Å—Ç–µ–º–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ services/     # –°–µ—Ä–≤–∏—Å—ã (UA, GPT –∏ –¥—Ä.)
‚îú‚îÄ‚îÄ backend/          # FastAPI —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ workers/          # –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏
‚îú‚îÄ‚îÄ core/            # –û–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ config.py    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ logger.py    # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ redis_client.py # Redis –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
‚îî‚îÄ‚îÄ docs/            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `.env`:
```env
# Telegram
TELEGRAM_BOT_TOKEN=your_bot_token

# Redis
REDIS_URL=redis://localhost:6379

# Instagram (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π)
INSTAGRAM_USERNAME=your_username

# Twitter (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
TWITTER_AUTH_TOKEN=your_token
TWITTER_CT0=your_csrf_token
```

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –º–µ–¥–∏–∞:
```bash
# Instagram
/d https://instagram.com/p/ABC123/

# YouTube
/d https://youtube.com/watch?v=ABC123

# Twitter/X
/d https://x.com/user/status/123456
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Instagram User-Agent:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
/ua_current

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–æ–≤—ã–π UA (–ø—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞—Ö)
/ua_set Mozilla/5.0 (Linux; Android 14...)

# –°–±—Ä–æ—Å–∏—Ç—å –Ω–∞ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π
/ua_reset
```

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:
```bash
# –¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
/d_test https://instagram.com/p/ABC123/

# –°—Ç–∞—Ç—É—Å Instagram —Å–∏—Å—Ç–µ–º—ã  
/insta_session

# –û–±—â–∏–π —Å—Ç–∞—Ç—É—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
/d_status
```

## üê≥ Docker

```bash
# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
docker-compose up -d

# –¢–æ–ª—å–∫–æ –±–æ—Ç
docker-compose up tg_bot

# –õ–æ–≥–∏
docker-compose logs -f
```

## üîÑ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ:
```bash
git pull
make restart-bot
make restart-api
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
```bash
# –õ–æ–≥–∏ –±–æ—Ç–∞
tail -f logs/bot.log

# –°—Ç–∞—Ç—É—Å Redis
redis-cli ping
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [üì• –°–∏—Å—Ç–µ–º–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è](docs/DOWNLOAD_SYSTEM.md) - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
- [üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞](docs/DEVELOPMENT.md) - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

## ü§ù –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch (`git checkout -b feature/amazing-feature`)
3. Commit –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add amazing feature'`)
4. Push –≤ branch (`git push origin feature/amazing-feature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

## üìã TODO

- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É TikTok
- [ ] –£–ª—É—á—à–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [ ] –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ MIT License - —Å–º. [LICENSE](LICENSE) —Ñ–∞–π–ª.

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

- Telegram: [@Red0Core](https://t.me/Red0Core)
- GitHub: [Red0Core](https://github.com/Red0Core)

---

‚≠ê **–ü–æ—Å—Ç–∞–≤—å—Ç–µ –∑–≤–µ–∑–¥—É, –µ—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –±—ã–ª –ø–æ–ª–µ–∑–µ–Ω!**
